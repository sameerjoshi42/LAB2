{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\INTEL\\\\Desktop\\\\React\\\\UberEats\\\\Frontend\\\\src\\\\components\\\\Cust_Restro_Landing.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Navbar from './Navbar';\nimport { useEffect, useState } from \"react\";\nimport Axios from 'axios';\nimport '../App.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Cart from './Cart';\nimport { addToCart } from '../Actions';\nimport { removeFromCart } from '../Actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cust_Restro_Landing = props => {\n  _s();\n\n  const dispatch = useDispatch();\n  const cartItems = useSelector(state => state.cartReducer);\n  var restro_id = props.location.id;\n  sessionStorage.setItem('restroId', restro_id);\n  sessionStorage.setItem('restroName', props.location.name);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [restroDishes, setRestroDishes] = useState([]);\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    const url = \"http://localhost:3002/getDishesByRestroMongo\";\n    Axios.post(url, {\n      id: sessionStorage.getItem('restroId')\n    }).then(response => {\n      setRestroDishes(response.data);\n    });\n  }, []);\n\n  const addToCart = val => {\n    const exist = cart.find(dish => dish.Dish_Name === val.Dish_Name);\n\n    if (exist) {\n      const nextState = cart.map(item => item.Dish_Name === val.Dish_Name ? { ...exist,\n        quantity: exist.quantity + 1\n      } : item);\n      setCart(nextState);\n    } else {\n      const newArray = [...cart, { ...val,\n        quantity: 1\n      }];\n      setCart(newArray);\n    }\n  };\n\n  sessionStorage.setItem('cart', JSON.stringify(cart));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Cust_Cart\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Our menu - \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), restroDishes.map((val, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"dishImage\",\n          src: val.Dish_Image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dish : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: val.Dish_Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Price : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: val.Dish_Price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: val.Description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => dispatch(addToCart(val)),\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 93\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cust_Restro_Landing, \"P5VkT7AQCyv7M/dRwanLfKT3YXU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Cust_Restro_Landing;\nexport default Cust_Restro_Landing;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cust_Restro_Landing\");","map":{"version":3,"sources":["C:/Users/INTEL/Desktop/React/UberEats/Frontend/src/components/Cust_Restro_Landing.js"],"names":["React","Navbar","useEffect","useState","Axios","useSelector","useDispatch","Cart","addToCart","removeFromCart","Cust_Restro_Landing","props","dispatch","cartItems","state","cartReducer","restro_id","location","id","sessionStorage","setItem","name","modalOpen","setModalOpen","restroDishes","setRestroDishes","cart","setCart","url","post","getItem","then","response","data","val","exist","find","dish","Dish_Name","nextState","map","item","quantity","newArray","JSON","stringify","idx","Dish_Image","Dish_Price","Description"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Navbar from './Navbar'\r\nimport { useEffect, useState } from \"react\";\r\nimport Axios from 'axios'\r\nimport '../App.css';\r\nimport { useSelector,useDispatch } from 'react-redux';\r\nimport Cart from './Cart';\r\nimport { addToCart } from '../Actions';\r\nimport { removeFromCart } from '../Actions';\r\n\r\n\r\nconst Cust_Restro_Landing = props => {\r\n    \r\n    const dispatch = useDispatch();\r\n    const cartItems = useSelector(state=>state.cartReducer)\r\n    var restro_id=props.location.id;\r\n    sessionStorage.setItem('restroId',restro_id);\r\n    sessionStorage.setItem('restroName',props.location.name);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const[restroDishes,setRestroDishes]=useState([])\r\n    const [cart, setCart] = useState(\r\n    []    \r\n    );\r\n   \r\n    useEffect(()=>{\r\n        const url =\"http://localhost:3002/getDishesByRestroMongo\";\r\n        Axios.post(url,{id:sessionStorage.getItem('restroId')\r\n        },).then((response)=>{\r\n            setRestroDishes(response.data);\r\n        })\r\n    },[])\r\n\r\n    const addToCart =(val)=>{\r\n        const exist = cart.find(dish=>dish.Dish_Name===val.Dish_Name)\r\n        if(exist){\r\n            const nextState = cart.map((item)=>item.Dish_Name===val.Dish_Name?{\r\n                ...exist,quantity:exist.quantity+1\r\n            }:item)\r\n            setCart(nextState);\r\n            \r\n        }\r\n        else{\r\n            const newArray=[...cart,{...val,quantity:1}];\r\n            setCart(newArray);\r\n            \r\n            \r\n        }      \r\n        \r\n\r\n    }\r\n    \r\n    sessionStorage.setItem('cart',JSON.stringify(cart))\r\n    \r\n    \r\n   \r\n\r\n\r\n    return (\r\n        <div className=\"Cust_Cart\">\r\n            <Navbar/>\r\n           \r\n\r\n      {/* {modalOpen && <Cart setOpenModal={setModalOpen} cart={cart} />} */}\r\n            \r\n            <h3>Our menu - </h3>\r\n            {restroDishes.map((val,idx)=>{\r\n                return (\r\n                    <div key={idx}>\r\n                        <br></br><img alt=\"dishImage\" src={val.Dish_Image} />\r\n                        <h3><strong>Dish : </strong><strong>{val.Dish_Name}</strong></h3>\r\n                        \r\n                        <h3><strong>Price : </strong><strong>{val.Dish_Price}</strong></h3>\r\n                        \r\n                        <h3><strong>Description : </strong><strong>{val.Description}</strong></h3>\r\n\r\n                        <button onClick={()=>dispatch(addToCart(val))}>Add to cart</button> <br></br>\r\n                        \r\n                      \r\n                        \r\n                    </div>\r\n                );\r\n                \r\n\r\n            })}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cust_Restro_Landing\r\n"]},"metadata":{},"sourceType":"module"}