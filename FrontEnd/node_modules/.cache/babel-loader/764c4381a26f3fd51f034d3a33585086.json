{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\INTEL\\\\Desktop\\\\React\\\\UberEats\\\\Frontend\\\\src\\\\components\\\\Restro_Login.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useState } from \"react\";\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Restro_Login = () => {\n  _s();\n\n  let history = useHistory();\n  const [error, setError] = useState(\"\");\n  const [state, setState] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  function handleSubmit(e) {\n    const newData = { ...state\n    };\n    newData[e.target.id] = e.target.value;\n    setState(newData); //console.log(newData);\n  }\n\n  const Login = (userEmail, e) => {\n    e.preventDefault();\n    const url = \"http://localhost:3002/restroLoginMongo\";\n    Axios.post(url, {\n      email: userEmail\n    }).then(response => {\n      localStorage.setItem('token', response.data);\n      var decoded = jwt_decode(response.data.split(' ')[1]);\n      sessionStorage.setItem('restaurant_id', decoded._id);\n      sessionStorage.setItem('restro_name', decoded.name); // console.log(response.data[0].Rest_Password);\n      // res = response.data;\n      // console.log(res);\n      // if(response.data[0].Rest_Password===state.password){\n      //     console.log('inside');\n      //     sessionStorage.setItem('restaurant_id',response.data[0]._id)\n      //     sessionStorage.setItem('restro_name',response.data[0].Rest_Name)\n      //     history.push(\"/restroLanding\");\n      // }\n      // else{\n      //     setError('Invalid Credentials');\n      // }\n    }).catch(() => {\n      setError('Invalid UserName or Password!!');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: \"105%\",\n          float: \"center\",\n          color: 'red'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Restaurant Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'black'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Restaurant Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 44\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"email\",\n          onChange: e => handleSubmit(e),\n          type: \"email\",\n          value: state.email,\n          required: \"required\",\n          name: \"email\",\n          placeholder: \"Enter your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Restaurant Password:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 47\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"password\",\n          type: \"password\",\n          required: \"required\",\n          onChange: e => handleSubmit(e),\n          value: state.password,\n          name: \"password\",\n          placeholder: \"Enter your password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => Login(state.email, e),\n          className: \"btn btn-primary sm m-5\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/restaurantSignup\",\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Don't have an account? SignUp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 42\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 101\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Restro_Login, \"CUQRHhzs1Gm6bI71QmUJzAZjo/o=\", false, function () {\n  return [useHistory];\n});\n\n_c = Restro_Login;\nexport default Restro_Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Restro_Login\");","map":{"version":3,"sources":["C:/Users/INTEL/Desktop/React/UberEats/Frontend/src/components/Restro_Login.js"],"names":["React","Link","useHistory","useState","Axios","Restro_Login","history","error","setError","state","setState","email","password","handleSubmit","e","newData","target","id","value","Login","userEmail","preventDefault","url","post","then","response","localStorage","setItem","data","decoded","jwt_decode","split","sessionStorage","_id","name","catch","width","float","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Link,useHistory } from 'react-router-dom';\r\n\r\nimport {useState } from \"react\";\r\n\r\nimport Axios from 'axios'\r\n\r\n\r\nconst Restro_Login = () => {\r\n    let history=useHistory();\r\n    const[error,setError]=useState(\"\");\r\n    const [state, setState] = useState({\r\n        email: \"\",\r\n        password:\"\"\r\n        });\r\n \r\n    \r\n    \r\n    function handleSubmit(e){\r\n        const newData={...state};\r\n        newData[e.target.id]=e.target.value;\r\n        setState(newData);\r\n        //console.log(newData);\r\n    \r\n        }\r\n\r\n        const Login=(userEmail,e)=>{\r\n            e.preventDefault();\r\n            \r\n            const url=\"http://localhost:3002/restroLoginMongo\"\r\n            Axios.post(url,{email:userEmail\r\n                },).then((response)=>{\r\n\r\n                    localStorage.setItem('token',response.data);\r\n                \r\n                \r\n                    var decoded = jwt_decode(response.data.split(' ')[1]);\r\n                    sessionStorage.setItem('restaurant_id',decoded._id);\r\n                    sessionStorage.setItem('restro_name',decoded.name);\r\n\r\n                    // console.log(response.data[0].Rest_Password);\r\n                   // res = response.data;\r\n                   // console.log(res);\r\n                    // if(response.data[0].Rest_Password===state.password){\r\n                    //     console.log('inside');\r\n                    //     sessionStorage.setItem('restaurant_id',response.data[0]._id)\r\n                    //     sessionStorage.setItem('restro_name',response.data[0].Rest_Name)\r\n                    //     history.push(\"/restroLanding\");\r\n                    // }\r\n                    // else{\r\n                    //     setError('Invalid Credentials');\r\n                    // }\r\n                   \r\n                }).catch(()=>{\r\n                    setError('Invalid UserName or Password!!');\r\n                })\r\n    \r\n        }\r\n    \r\n    return (\r\n        <div>\r\n            <form >\r\n            <div style={{width: \"105%\",float: \"center\",color:'red'}}>\r\n                <h3>{error}</h3>\r\n            </div>\r\n                <div>\r\n                    <h2>Restaurant Login</h2>\r\n                </div>\r\n\r\n                <div style={{color:'black'}}>\r\n                    <label htmlFor=\"email\"><strong>Restaurant Email:</strong> </label>\r\n                    <input id=\"email\" onChange={(e)=>handleSubmit(e)} type=\"email\" value={state.email} required=\"required\" name=\"email\" placeholder=\"Enter your email\"/> \r\n                </div>\r\n                <br></br>\r\n                \r\n                <div>\r\n                    <label htmlFor=\"password\"><strong>Restaurant Password:</strong></label>\r\n                    <input id=\"password\" type=\"password\" required=\"required\" onChange={(e)=>handleSubmit(e)} value={state.password} name=\"password\" placeholder=\"Enter your password\"/>\r\n                </div>\r\n                <br></br>\r\n                <div>\r\n                    <button onClick={(e)=>Login(state.email,e)} className=\"btn btn-primary sm m-5\">Login</button>\r\n                </div>\r\n            </form><br></br>\r\n            <ul>\r\n        <li><Link to=\"/restaurantSignup\"><strong>Don't have an account? SignUp</strong></Link></li> <br></br>\r\n        \r\n      </ul>\r\n      \r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Restro_Login\r\n"]},"metadata":{},"sourceType":"module"}