{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\INTEL\\\\Desktop\\\\React\\\\UberEats\\\\Frontend\\\\src\\\\components\\\\Cust_Restro_Landing.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Navbar from './Navbar';\nimport { useEffect, useState } from \"react\";\nimport Axios from 'axios';\nimport '../App.css';\nimport Cart from './Cart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Cust_Restro_Landing = props => {\n  _s();\n\n  var restro_name = props.location.state.val.Rest_Name;\n  sessionStorage.setItem('restroName', restro_name);\n  const [modalOpen, setModalOpen] = useState(false);\n  const [restroDishes, setRestroDishes] = useState([]);\n  const [cart, setCart] = useState([]);\n  useEffect(() => {\n    const url = \"http://localhost:3002/getDishesByRestro\";\n    Axios.post(url, {\n      name: sessionStorage.getItem('restroName')\n    }).then(response => {\n      setRestroDishes(response.data);\n    });\n  }, []);\n\n  const addToCart = val => {\n    const exist = cart.find(dish => dish.Dish_Name === val.Dish_Name);\n\n    if (exist) {\n      const nextState = cart.map(item => item.Dish_Name === val.Dish_Name ? { ...exist,\n        quantity: exist.quantity + 1\n      } : item);\n      setCart(nextState);\n    } else {\n      const newArray = [...cart, { ...val,\n        quantity: 1\n      }];\n      setCart(newArray);\n    }\n  };\n\n  const cartArray = JSON.parse(sessionStorage.getItem('cart'));\n  cartArray.push(cart);\n  sessionStorage.setItem('cart', JSON.stringify(cartArray));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Cust_Cart\",\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"openModalBtn\",\n      onClick: () => {\n        setModalOpen(true);\n      },\n      children: \"Cart\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), modalOpen && /*#__PURE__*/_jsxDEV(Cart, {\n      setOpenModal: setModalOpen,\n      cart: cart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Welcome to, \", restro_name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Our menu - \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), restroDishes.map((val, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: val.dish_image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Dish : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: val.Dish_Name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 53\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Price : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: val.Dish_Price\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 54\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description : \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: val.Description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 60\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => addToCart(val),\n          children: \"Add to cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Cust_Restro_Landing, \"i7bDrwWw/YAjuLi7dXiJOC/Xpqg=\");\n\n_c = Cust_Restro_Landing;\nexport default Cust_Restro_Landing;\n\nvar _c;\n\n$RefreshReg$(_c, \"Cust_Restro_Landing\");","map":{"version":3,"sources":["C:/Users/INTEL/Desktop/React/UberEats/Frontend/src/components/Cust_Restro_Landing.js"],"names":["React","Navbar","useEffect","useState","Axios","Cart","Cust_Restro_Landing","props","restro_name","location","state","val","Rest_Name","sessionStorage","setItem","modalOpen","setModalOpen","restroDishes","setRestroDishes","cart","setCart","url","post","name","getItem","then","response","data","addToCart","exist","find","dish","Dish_Name","nextState","map","item","quantity","newArray","cartArray","JSON","parse","push","stringify","idx","dish_image","Dish_Price","Description"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Navbar from './Navbar'\r\nimport { useEffect, useState } from \"react\";\r\nimport Axios from 'axios'\r\nimport '../App.css';\r\n\r\nimport Cart from './Cart';\r\n\r\n\r\nconst Cust_Restro_Landing = props => {\r\n    \r\n    var restro_name=props.location.state.val.Rest_Name;\r\n    sessionStorage.setItem('restroName',restro_name);\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const[restroDishes,setRestroDishes]=useState([])\r\n    const [cart, setCart] = useState(\r\n    []    \r\n    );\r\n   \r\n    useEffect(()=>{\r\n        const url =\"http://localhost:3002/getDishesByRestro\";\r\n        Axios.post(url,{name:sessionStorage.getItem('restroName')\r\n        },).then((response)=>{\r\n            setRestroDishes(response.data);\r\n        })\r\n    },[])\r\n\r\n    const addToCart =(val)=>{\r\n        const exist = cart.find(dish=>dish.Dish_Name===val.Dish_Name)\r\n        if(exist){\r\n            const nextState = cart.map((item)=>item.Dish_Name===val.Dish_Name?{\r\n                ...exist,quantity:exist.quantity+1\r\n            }:item)\r\n            setCart(nextState);\r\n        }\r\n        else{\r\n            const newArray=[...cart,{...val,quantity:1}];\r\n            setCart(newArray);\r\n        }      \r\n        \r\n\r\n    }\r\n    const cartArray=JSON.parse(sessionStorage.getItem('cart'));\r\n    cartArray.push(cart);\r\n    sessionStorage.setItem('cart',JSON.stringify(cartArray))\r\n\r\n\r\n    return (\r\n        <div className=\"Cust_Cart\">\r\n            <Navbar/>\r\n            <button\r\n            className=\"openModalBtn\"\r\n            onClick={() => {\r\n          setModalOpen(true);\r\n        }}\r\n      >\r\n        Cart\r\n      </button>\r\n\r\n      {modalOpen && <Cart setOpenModal={setModalOpen} cart={cart} />}\r\n            {/* <div className=\"Cart\">\r\n            <Link  to={{\r\n                            pathname: \"/customercart\",\r\n                            state:{cart}\r\n                            }}><button onClick={openCart}><strong>\r\n                                Cart</strong></button></Link>\r\n                    \r\n                    \r\n            </div> */}\r\n\r\n            <h3>Welcome to, { restro_name}</h3>\r\n            <h3>Our menu - </h3>\r\n            {restroDishes.map((val,idx)=>{\r\n                return (\r\n                    <div key={idx}>\r\n                        <img src={val.dish_image} />\r\n                        <h3><strong>Dish : </strong><strong>{val.Dish_Name}</strong></h3>\r\n                        \r\n                        <h3><strong>Price : </strong><strong>{val.Dish_Price}</strong></h3>\r\n                        \r\n                        <h3><strong>Description : </strong><strong>{val.Description}</strong></h3>\r\n\r\n                        <button onClick={()=>addToCart(val)}>Add to cart</button>\r\n                        \r\n                        {/* <h3><strong>Timings : </strong><strong>{val.Rest_Timings}</strong></h3> */}\r\n                        \r\n                    </div>\r\n                );\r\n                \r\n\r\n            })}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cust_Restro_Landing\r\n"]},"metadata":{},"sourceType":"module"}